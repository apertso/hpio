# üì± Android App - –•–æ—á—É –ü–ª–∞—á—É

## üìã –°–∏—Å—Ç–µ–º–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

### –î–ª—è —Å–±–æ—Ä–∫–∏ APK —Ñ–∞–π–ª–∞:

- **Windows 10/11** (64-bit) —Å –≤–∫–ª—é—á–µ–Ω–Ω—ã–º Developer Mode
- **Node.js 18+** –∏ npm
- **Visual Studio Build Tools 2022**
- **Rust** toolchain —Å MSVC
- **Android Studio** –∏–ª–∏ Android SDK
- **Java JDK 21**

## üîß –ü–æ—à–∞–≥–æ–≤–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞

### 1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Visual Studio Build Tools

1. –°–∫–∞—á–∞–π—Ç–µ [Visual Studio Build Tools 2022](https://aka.ms/vs/17/release/vs_BuildTools.exe)
2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —É—Å—Ç–∞–Ω–æ–≤—â–∏–∫
3. –í—ã–±–µ—Ä–∏—Ç–µ **"C++ build tools"** workload
4. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—ã–±—Ä–∞–Ω—ã:
   - MSVC v143 - VS 2022 C++ x64/x86 build tools
   - Windows 11/10 SDK
5. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∏ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç–µ –∫–æ–º–ø—å—é—Ç–µ—Ä

### 2. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Rust —Å MSVC toolchain

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ rustup (–µ—Å–ª–∏ –µ—â–µ –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω)
curl --proto '=https' --tlsv1.2 -sSf https://sh.rustup.rs | sh

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ MSVC toolchain –∫–∞–∫ –æ—Å–Ω–æ–≤–Ω–æ–π
rustup default stable-x86_64-pc-windows-msvc

# –î–æ–±–∞–≤—å—Ç–µ Android targets
rustup target add aarch64-linux-android armv7-linux-androideabi x86_64-linux-android i686-linux-android
```

### 3. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Java JDK

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ [–æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π —Å–∞–π—Ç Oracle](https://www.oracle.com/java/technologies/downloads/)
2. –í—ã–±–µ—Ä–∏—Ç–µ **Java 21** (LTS –≤–µ—Ä—Å–∏–∏)
3. –°–∫–∞—á–∞–π—Ç–µ **Windows x64 Installer** (.msi —Ñ–∞–π–ª)
4. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —É—Å—Ç–∞–Ω–æ–≤—â–∏–∫ —Å –ø—Ä–∞–≤–∞–º–∏ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
5. –°–ª–µ–¥—É–π—Ç–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º —É—Å—Ç–∞–Ω–æ–≤—â–∏–∫–∞ (–æ—Å—Ç–∞–≤—å—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
6. –ü–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –≤–µ—Ä—Å–∏—é:

```bash
java -version
javac -version
```

### 4. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Android SDK –∏ NDK

**–í–∞—Ä–∏–∞–Ω—Ç A: –ß–µ—Ä–µ–∑ Android Studio (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)**

1. –°–∫–∞—á–∞–π—Ç–µ [Android Studio](https://developer.android.com/studio)
2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Android Studio
   –î–ª—è Windows –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Chocolatey:

```bash
choco install androidstudio -y
```

3. –û—Ç–∫—Ä–æ–π—Ç–µ **Tools ‚Üí SDK Manager**
4. –í–æ –≤–∫–ª–∞–¥–∫–µ **SDK Tools** —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ:
   - **Android NDK (Side by side)** - –≤—ã–±–µ—Ä–∏—Ç–µ –ø–æ—Å–ª–µ–¥–Ω—é—é –≤–µ—Ä—Å–∏—é
   - **Android SDK Build-Tools**
   - **Android SDK Platform-Tools**

**–í–∞—Ä–∏–∞–Ω—Ç B: –¢–æ–ª—å–∫–æ SDK (–±–µ–∑ Android Studio)**

1. –°–∫–∞—á–∞–π—Ç–µ [Command Line Tools](https://developer.android.com/studio#command-tools)
2. –°–æ–∑–¥–∞–π—Ç–µ –ø–∞–ø–∫—É `C:\Android\android-sdk`
3. –†–∞—Å–ø–∞–∫—É–π—Ç–µ —Ç—É–¥–∞ –∫–æ–º–∞–Ω–¥–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã
4. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —á–µ—Ä–µ–∑ `sdkmanager`

### 5. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è

–î–æ–±–∞–≤—å—Ç–µ —Å–ª–µ–¥—É—é—â–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –≤ —Å–∏—Å—Ç–µ–º–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ Windows:

| –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è         | –ó–Ω–∞—á–µ–Ω–∏–µ                              |
| ------------------ | ------------------------------------- |
| `ANDROID_HOME`     | `C:\Android\android-sdk`              |
| `ANDROID_SDK_ROOT` | `C:\Android\android-sdk`              |
| `NDK_HOME`         | `C:\Android\android-sdk\ndk\[–≤–µ—Ä—Å–∏—è]` |

–î–æ–±–∞–≤—å—Ç–µ –≤ `PATH`:

- `%ANDROID_HOME%\platform-tools`
- `%ANDROID_HOME%\tools`
- `%NDK_HOME%`

### 6. –í–∫–ª—é—á–µ–Ω–∏–µ Developer Mode (Windows)

**–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω–æ –¥–ª—è —Å–±–æ—Ä–∫–∏ APK!**

1. –û—Ç–∫—Ä–æ–π—Ç–µ **–ü–∞—Ä–∞–º–µ—Ç—Ä—ã Windows** (Win + I)
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å** ‚Üí **–î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤** (Windows 10)
   –∏–ª–∏ **–ö–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç—å –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å** ‚Üí **–î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤** (Windows 11)
3. **–í–∫–ª—é—á–∏—Ç–µ —Ä–µ–∂–∏–º —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞**
4. –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç–µ –∫–æ–º–ø—å—é—Ç–µ—Ä

### 7. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ PATH –¥–ª—è Rust

–ï—Å–ª–∏ —É –≤–∞—Å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω Rust —á–µ—Ä–µ–∑ Chocolatey, —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ rustup –∏–º–µ–µ—Ç –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç:

```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, –∫–∞–∫–æ–π rustc –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è
where rustc
rustup which rustc

# –ï—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –Ω–µ rustup –≤–µ—Ä—Å–∏—è, –≤—Ä–µ–º–µ–Ω–Ω–æ –∏—Å–ø—Ä–∞–≤—å—Ç–µ PATH:
export PATH="/c/Users/[–≤–∞—à_–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å]/.cargo/bin:$PATH"
```

## üöÄ –°–±–æ—Ä–∫–∞ APK

### 1. –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞

```bash
cd frontend
npm install
```

### 2. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Android –ø—Ä–æ–µ–∫—Ç–∞

```bash
npx tauri android init --ci
```

### 3. –°–±–æ—Ä–∫–∞ APK

```bash
npx tauri android build --apk
```

### 4. –ü–æ–∏—Å–∫ –≥–æ—Ç–æ–≤–æ–≥–æ APK

–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–π —Å–±–æ—Ä–∫–∏ APK —Ñ–∞–π–ª –±—É–¥–µ—Ç –Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è –≤:

```
frontend/src-tauri/target/aarch64-linux-android/release/apk/
```

## üîß –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –ü—Ä–æ–±–ª–µ–º–∞: "can't find crate for `std`"

**–ü—Ä–∏—á–∏–Ω–∞:** –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è Rust (Chocolatey –≤–º–µ—Å—Ç–æ rustup)

**–†–µ—à–µ–Ω–∏–µ:**

```bash
# –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ rustup –≤–µ—Ä—Å–∏—é
rustup default stable-x86_64-pc-windows-msvc
export PATH="/c/Users/[–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å]/.cargo/bin:$PATH"
```

### –ü—Ä–æ–±–ª–µ–º–∞: "Visual Studio Build Tools not found"

**–†–µ—à–µ–Ω–∏–µ:** –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Visual Studio Build Tools 2022 —Å C++ workload

### –ü—Ä–æ–±–ª–µ–º–∞: "Creation symbolic link is not allowed"

**–†–µ—à–µ–Ω–∏–µ:** –í–∫–ª—é—á–∏—Ç–µ Developer Mode –≤ Windows –∏ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç–µ –∫–æ–º–ø—å—é—Ç–µ—Ä

### –ü—Ä–æ–±–ª–µ–º–∞: "Android SDK not found"

**–†–µ—à–µ–Ω–∏–µ:**

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é `ANDROID_HOME`
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ SDK —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
3. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –∫–æ–º–∞–Ω–¥–Ω—É—é —Å—Ç—Ä–æ–∫—É

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ï—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã:

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤—Å–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ Developer Mode –≤–∫–ª—é—á–µ–Ω
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π Rust toolchain:
   ```bash
   rustc --print sysroot
   # –î–æ–ª–∂–Ω–æ –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –ø—É—Ç—å —Å rustup, –∞ –Ω–µ chocolatey
   ```
4. –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç–µ –∫–æ–º–ø—å—é—Ç–µ—Ä –ø–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
